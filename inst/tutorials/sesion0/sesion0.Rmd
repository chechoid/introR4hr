---
title: "Introducci√≥n a R"
output: learnr::tutorial
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
library(learnr)
knitr::opts_chunk$set(echo = FALSE)
```

## Curso Introducci√≥n a R para RRHH

![](images/runr.jpg)

Hola HR NeRd! Te doy la bienvenida al curso **Introducci√≥n a R para RRHH**. Este es un tutorial interactivo que te permitir√° conocer algunos conceptos b√°sicos de R, y sobre los tipos de datos.

Con este tutorial vas a familiarizarte con conceptos como:

-   **Objetos**

    -   Valores

    -   Vectores

    -   Data frames

-   **Tipos de variables**

Este tutorial fue creado para que te familiarices con la sintaxis de R y algunos de sus conceptos. Esto no quiere decir que est√°s por tu cuenta. Pod√©s hacer consultas en nuestros canales de:

ü§ù [Slack](https://join.slack.com/t/r4hr/shared_invite/zt-ocriyx5e-nqXuwWeDyOKm2ICUJjhu6g)

üì° [Discord](https://discord.gg/3xhNH6kRad)

En Slack tenemos un canal llamado **#auxilio** donde pod√©s hacer todas las consultas que quieras.

Muchas gracias!

**Sergio Garcia Mora \|** **Data 4HR**

## Conceptos de R

En esta primera secci√≥n vamos a conocer algunos conceptos que son frecuentes de ver, leer y escuchar entre usuarios y usuarias de R.

Este [mapa conceptual](https://miro.com/app/board/o9J_l0IFd1Y=/) contiene algunos de los principales elementos para que te familiarices con esta sesi√≥n.

### RStudio

Para programar en R es recomendable contar con dos softwares:

-   [R](https://cran.r-project.org/): Es el motor que realiza la carga de datos y su an√°lisis.
-   [RStudio](https://www.rstudio.com/products/rstudio/download/): Es una interfase que nos permite interactuar f√°cilmente con R, ver resultados y gestionar proyectos.

En el caso que tengas una computadora del trabajo que no tengas permiso para instalar programas, o que R funcione muy lento, o simplemente no quer√©s lidiar con todas las instalaciones pod√©s usar la versi√≥n gratuita de [RStudio Cloud](https://rstudio.cloud/).

### Las ventanas de RStudio

A modo de introducci√≥n a RStudio, utilizaremos esta imagen inspirada en el genial libro de Antonio Vazquez Brust, ["Ciencia de Datos para Gente Sociable"](https://bitsandbricks.github.io/ciencia_de_datos_gente_sociable/).

![Paneles de RStudio](images/panes.png){width="568"}

Veamos cada panel.

-   **Editor**: El panel de edici√≥n es en donde recomendamos escribir nuestro c√≥digo (tambi√©n llamado *script*). Es un editor de texto que permite escribir las instrucciones, editarlas, copiar y pegar, etc.. La primera vez que abres RStudio tienes que crear un script usando las teclas *Ctrl + Shift + N*, o bien desde el men√∫ *File -\> New File -\> R Script*.
-   **Consola**: Es donde corre el motor de R. Algunas salidas, mensajes de advertencia y errores, las veremos ah√≠.
-   **Ambiente** (arriba a la derecha): Cuando carguemos datos, almacenemos objetos con valores y resultados, veremos ah√≠ su nombre. Tambi√©n podr√°s acceder a distintos tutoriales en la pesta√±a *Tutorial*.
-   **Archivos/Gr√°ficos/Paquetes/Ayuda/Salida**: Cuando realicemos un gr√°fico, podremos verlo ah√≠ en la pesta√±a *Plots*. La pesta√±a *Files* permite ver la carpeta del proyecto con los archivos y carpetas almacenados en esa carpeta. La pesta√±a *Packages* permite ver los paquetes instalados, e instalar y actualizar paquetes de forma sencilla. La pesta√±a *Help* nos permite navegar por la ayuda de los paquetes y funciones. *Viewer* es una pesta√±a donde podemos ver otro tipo de salidas de paquetes particulares.

### Proyectos

Los proyectos son una de las grandes ventajas de trabajar con RStudio. Internamente crea carpetas dentro de *Mis documentos* (o la carpeta que elijas) haciendo que tu c√≥digo y los datos est√©n almacenados organizadamente, redireccionando las carpetas de trabajo cada vez que cambias de proyecto.

Si quer√©s ayuda, pod√©s ver este video en [YouTube](https://youtu.be/NflRhgN_OjA).

Para crear un proyecto primero hay que entrar en *File -\> New Project* y se abrir√° una ventana como la siguiente:

![](images/new_project.png){width="348"}

Elegimos la opci√≥n *New Directory* en la ventana siguiente volvemos a hacer click en *New Project* y luego en la siguiente ventana, podemos elegir el nombre del proyecto, elegir la carpeta en la que queremos guardarlo con el bot√≥n *Browse*.

![](images/new_projecto.png)

Arriba a la derecha, debajo del √≠cono para cerrar el programa RStudio va a aparecer un √≠cono de un cubo celeste con el nombre del proyecto que acabamos de crear. Desde el men√∫ desplegable podemos intercambiar de proyectos cada vez que lo necesitemos.

## Objetos

R es un lenguaje orientado a objetos. Esto quiere decir que a las tablas, valores y resultados, les podemos dar un nombre, y utilizar ese nombre para que sea m√°s f√°cil operar y programar los scripts.

Los objetos son √∫tiles porque nos permiten almacenar un resultado por ejemplo, y reutilizarlo desp√∫es. Imagin√° que todos los meses haces un informe. Podes programar que tu reporte hecho en R, guarde el resultado de la rotaci√≥n del mes en un objeto, y utilizar el nombre del objeto en el informe. Cada mes ese valor se actualizar√°, pero vos hiciste el trabajo **una sola vez**.

> Recomendaci√≥n: Pon√© nombres claros y descriptivos a los objetos, que sean breves, pero a su vez que den una pista sobre lo que contiene. Record√° que ac√° lo m√°s importante no es que R entienda lo que est√°s haciendo, sino que lo pueda entender otra persona, e incluso vos mismo cuando vuelvas a leer tu propio script dentro de 6 meses o un a√±o.

Algo interesante con los objetos es que podemos utilizarlos y operar con ellos en los scripts.

Para crear un objeto podemos usar el s√≠mbolo `<-` (la *"flechita"*), o bien el signo igual `=`. En R preferimos usar la *flechita* porque el signo igual se utiliza dentro de las funciones para modficicar par√°metros.

### Ejercicio

Para crear un objeto hay que escribir el nombre del objeto, el s√≠mbolo de asignaci√≥n `<-` (la *"flechita"*), y luego el valor. Para ejecutar la l√≠nea de c√≥digo hay que apretar las teclas `Ctrl` + `Enter`.

Para ver el contenido del objeto solo hay que escribir su nombre y apretar `Ctrl` + `Enter` sobre la l√≠nea de c√≥digo.

```{r obj-ej0, echo=TRUE}
# Creo un objeto num√©rico
valor <- 42

# Creo un objeto con un valor alfanum√©rico
nombre <- "Sergio"

# Ver los valores almacenados.
valor
nombre
```

En el siguiente ejemplo estoy creando un objeto con mi a√±o de nacimiento. Luego lo puedo usar para calcular mi edad.

Para asignar un objeto, puedo apretar las teclas `Ctrl` + `Enter` sobre la l√≠nea de c√≥digo, o bien el tri√°ngulo verde con forma de tecla *Play*.

Asigna al objeto `anio_nacimiento` tu a√±o de nacimiento. Luego usa el objeto para calcular tu edad, y guardarlo en un objeto llamado `edad` .

```{r obj-ej1, echo=TRUE}
# Creo un objeto
anio.nacimiento <- 1979  # Apretar Ctrl + Enter

# Para ver el valor almacenado en el objeto
anio.nacimiento

# Puedo calcular mi edad usando el objeto almacenado.
2021 - anio.nacimiento

# Incluso puedo guardar el resultado en otro objeto
edad <- 2021 - anio.nacimiento

edad
```

**Ahora a practicar por tu cuenta**. Pod√©s apretar la combinaci√≥n `Ctrl` + `Enter` en cada l√≠ne de c√≥digo y luego, o completar todos los pasos y hacer click en el bot√≥n `Run Code`.

Vas a crear un objeto indicando el a√±o en que empezaste a trabajar o a estudiar en la Universidad. Luego, vas a calcular cu√°ntos a√±os de experiencia o estudio ten√©s.

Primero, crea un objeto y llamalo `inicio`. Asignale con la *flechita* el a√±o en que empezaste a trabajar en tu actual empleo.

Luego, pon√© el a√±o en el que empezaste a trabajar.

```{r objeto, exercise = TRUE, exercise.lines = 8}
inicio <- ____  # Complet√° el valor y apret√° Ctrl + Enter
anio.actual <- 2021 # Crea el objeto apretando Ctrl + Enter

# Calcul√° tus a√±os de experiencia
experiencia <- anio._____ - ________

experiencia
```

```{r objeto-hint-1}
# Pon√© el a√±o en el que comenzaste en inicio
# Para calcular el objeto experiencia ten√©s que restar al a√±o actual, tu a√±o de inicio.
```

```{r objeto-hint-2}
inicio <- 2016  # Complet√° el valor y apret√° Ctrl + Enter
anio.actual <- 2021 # Crea el objeto apretando Ctrl + Enter

# Calcul√° tus a√±os de experiencia
experiencia <- anio.actual - inicio

experiencia
```

## Tipos de datos

Los tipos de datos con los que nos podemos encontrar son: \* **Num√©ricos**: los vamos a ver simbolizados con `num`, `int`, o `dbl`. \* **Texto**: los vamos a ver como `chr`. \* **L√≥gicos**: Asumen valores `TRUE` o `FALSE` y los veremos como `lgl`.

Prueba correr el siguiente c√≥digo corri√©ndolo en `Run Code`.

```{r objeto2, exercise = TRUE, exercise.lines = 13}
# Valor num√©rico
respuesta <- 42

# Valor alfanum√©rico
nombre <- "Sergio"

# Valor l√≥gico
spock <- TRUE

# Ver los resultados
respuesta
nombre
spock
```

Con la funci√≥n `class()` podemos ver el tipo de valor que contiene. Complet√° con tus datos personales (no quedan almacenados en ning√∫n lado, s√≥lo en tu PC) y us√° la funci√≥n `class()` para ver el valor que contiene.

Recuerda usar las teclas `Ctrl` + `Enter` para guardar el valor en el objeto.

```{r objeto3, exercise = TRUE, exercise.lines = 13}
# Tu edad (real o la que sientes que tienes ¬∞v¬∞)
edad <- _____

# Tu nombre, no olvides las comillas
nombre ___ ________

# ¬øEst√°s graduado/a?
graduado __ _______

# Ahora usa la funci√≥n class() para ver el tipo de valor almacenado.
class(edad)
class(____)
_____(____)
```

```{r objeto3-hint-1}
# Reemplaza los espacios vacios con los valores correctos
# Presta atenci√≥n a las min√∫sculas y may√∫sculas
# No olvides usar el operador <- para asignar el valor al objeto
```

```{r objeto3-hint-2}
# Estos pueden ser posibles ejemplos
# Tu edad (real o la que sientes que tienes ¬∞v¬∞)
edad <- 42

# Tu nombre, no olvides las comillas
nombre <- "Sergio"

# ¬øEst√°s graduado/a?
graduado <- TRUE

# Ahora usa la funci√≥n class() para ver el tipo de valor almacenado.
class(edad)
class(nombre)
class(graduado)
```

Ahora respond√© la siguiente pregunta:

**¬øCu√°l ser√° la clase de este objeto?**

```{r trivia, eval=FALSE, echo=TRUE}
valor <- "1234"
```

```{r trivia1}
quiz(
  question("¬øQu√© clase tendr√° el objeto 'valor' creado anteriormente?",
           answer("Num√©rico", message = "Si bien son n√∫meros, al tener comillas R lo interpreta como texto"),
           answer("Texto", correct = TRUE, message = "Muy bien! Al ponerle comillas a los n√∫meros le indicamos a R que interprete el valor como si fuera texto"),
           answer("L√≥gico", message = "Los valores l√≥gicos s√≥lo pueden tener como valores posibles TRUE o FALSE"),
           submit_button = "Enviar respuesta",
           try_again_button = "Intenta de nuevo",
           allow_retry = TRUE
))
```

### Descanso

¬øQu√© tal el primer esfuerzo? Programar es un ejercicio de tolerancia a la frustraci√≥n, pero te prometo que cada vez que las cosas salen como quer√©s la sensaci√≥n es muy poderosa.

Te propongo hacer una pausa con esta canci√≥n antes de pasar al siguiente tema.

<iframe width="560" height="315" src="https://www.youtube.com/embed/GPeiU6RqIjA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>

</iframe>

## Operaciones con objetos

Cuando estamos haciendo an√°lisis podemos almacenar los resultados en objetos y despu√©s usarlos en cuentas. Planificar el flujo de los datos y de los resultados es lo que nos permitir√° reutilizar un script en tareas repetitivas.

Estos son los operadores matem√°ticos que podemos usar en R:

```{r operadores-mat, warning=FALSE, message=FALSE}
library(dplyr)
library(gt)
gt(
  data.frame(
    "S√≠mbolo" = c("+", "-", "*", "/", "^"),
    "Operaci√≥n" = c("Suma/Adici√≥n", "Resta/Sustracci√≥n", "Multiplicaci√≥n", "Divisi√≥n", "Potencia")
  )
) %>% 
  cols_align(
    align = "center",
    columns = everything()
  )
```

Probemos algo simple:

```{r mate1, echo=TRUE}
uno <- 1

dos <- 2

# El resultado no los sorprender√° =P
uno + dos
```

En Argentina, nuestros sueldos brutos tienen tres descuentos obligatorios:

-   Jubilaci√≥n: 11% (0.11)
-   Obra Social: 3% (0.03)
-   Seguridad Social: 3% (0.03)

En R el separador decimal es el punto (`.`), no la coma (`,`). Se puede cambiar la configuraci√≥n pero es mejor adaptarse.

![Si entendes el meme sos grupo de riesgo](https://cdn.memegenerator.es/imagenes/memes/full/2/30/2307062.jpg)

Crea un objeto para cada √≠tem, y luego crea un objeto llamado `cargas.sociales` con el resultado de la suma de los tres conceptos. Recuerda asignar el valor a los objetos con las teclas `Ctrl` + `Enter`.

```{r mat2, exercise=TRUE}
# Crea un objeto para cada concepto
jubilacion <- ____
obra.social <- 0.03
seguridad.social ___ ______

# Crea un objeto con la suma de los tres conceptos
cargas.sociales <- ______ + _______ __ __________
```

```{r mat2-hint-1}
# Pone los valores num√©ricos
# Recuerda que el separador de decimales es el punto.
# Para sumar los tres conceptos pon√© su nombre sin comillas
```

```{r mat2-solution}
# Crea un objeto para cada concepto
jubilacion <- 0.11
obra.social <- 0.03
seguridad.social <- 0.03

# Crea un objeto con la suma de los tres conceptos
cargas.sociales <- jubilacion + obra.social + seguridad.social
```

```{r ccss}
# Crea un objeto para cada concepto
jubilacion <- 0.11
obra.social <- 0.03
seguridad.social <- 0.03

# Crea un objeto con la suma de los tres conceptos
cargas.sociales <- jubilacion + obra.social + seguridad.social
```

Para calcular el sueldo neto (lo que me queda "de bolsillo") tengo que restar las deducciones por cargas sociales. Conceptualmente ser√≠a algo as√≠:

```{r eval=FALSE, echo=TRUE}
sueldo.bruto * (1 - cargas.sociales) = sueldo.neto
```

Imaginemos que tenemos un sueldo bruto de U$D 1.000 (mil d√≥lares). Calculemos el `sueldo.neto`

```{r mat3, exercise = TRUE, exercise.setup="ccss"}
# Cargas sociales ya est√° almacenado
cargas.sociales

# Crea un objeto que se llame sueldo.bruto
______ ___ _________

# Calcul√° el sueldo neto 
sueldo.neto <- _____ * (__ - ________)
  
# Verifica el resultado
sueldo.neto
```

```{r mat3-hint-1}
# Crea un objeto que se llame sueldo.bruto y asignale el sueldo de 1000
# Para calcular el sueldo neto ten√©s que multiplicar el objeto sueldo.bruto por 1 menos las cargas sociales. Revisa el esquema de m√°s arriba
```

```{r mat3-solution}
# Cargas sociales ya est√° almacenado
cargas.sociales

# Crea un objeto que se llame sueldo.bruto
sueldo.bruto <- 1000

# Calcul√° el sueldo neto 
sueldo.neto <- sueldo.bruto * (1 - cargas.sociales)
  
# Verifica el resultado
sueldo.neto
```

Pod√©s verificar el resultado de la siguiente manera:

```{r mat4, exercise=TRUE, exercise.lines = 17}
# Cargar el sueldo bruto del ejercicio anterior
sueldo.bruto <- 1000

# Calcular cargas sociales
jubilacion <- sueldo.bruto * 0.11
obra.social <- sueldo.bruto * 0.03
seguridad.social <- sueldo.bruto * 0.03

deducciones <- jubilacion + obra.social + seguridad.social

deducciones # Ver el descuento total

# Calcular sueldo neto
sueldo.neto <- sueldo.bruto - deducciones

sueldo.neto

```

### Otra pausa

Muy bien! Esta secci√≥n fue breve, pero poderosa, as√≠ que te mereces esta canci√≥n:

<iframe width="560" height="315" src="https://www.youtube.com/embed/skdE0KAFCEA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Vectores

Los vectores son conjuntos de datos. Un uso muy importante que le damos por ejemplo es cuando lo usamos con la funci√≥n `filter()` o cuando hacemos selecciones de varios elementos.

Tambi√©n nos sirve como una buena introducci√≥n a la selecci√≥n y modificaci√≥n de elementos (vamos a jugar un poco a la guerra naval).


Se suele decir que los vectores *tienen una sola dimensi√≥n* (cuando veamos *data frames* esta √∫ltima frase va a m√°s tener sentido). En ellos se pueden almacenar datos num√©ricos, o categ√≥ricos, en incluso una combinaci√≥n de ambos.

Para crear un vector y guardarlo en un objeto, necesitamos la funci√≥n `c()` que significa *"combine"*.

Si creas vectores que contengan variables de tipo texto, cada elemento del vector tiene que tener s√≠ o s√≠ las comillas en cada elemento.

### Ejercicio

Crea un objeto con los nombres art√≠sticos (sin los apellidos) de los integrantes de [Soda Stereo](https://es.wikipedia.org/wiki/Soda_Stereo).

```{r soda-nombres, exercise = TRUE, exercise.lines = 5}
nombres <- c("____", "____", )

nombres
```

```{r soda-nombres-hint-1}
# Cada elemento de un vector tiene que estar separado por comas.
# Si es una variable categ√≥rica, tiene que tener comillas.
```

```{r soda-nombres-hint-2}
nombres <- c("Gustavo", "Charly", "Zeta")

nombres
```

Perfecto! **Gustavo Cerati** tocaba la guitarra y era el cantante, **Charly Alberti** era el baterista, y **Zeta Bosio** tocaba el bajo.

### Modificar elementos de un vector

Para modificar elementos de un vector hay que poner el n√∫mero del elemento entre corchetes (`[]`) y asignarle el valor que querramos modificar. Para eso tenemos que poner el nombre del vector, y entre corchetes poner el n√∫mero de la posici√≥n del elemento que queremos modificar `nombre_vector[x]` donde x es el n√∫mero de la posici√≥n en el vector.

Cambia el nombre del artista que no pertenece a Soda Stereo.

```{r soda-nombres2, exercise = TRUE, exercise.lines = 7}
nombres <- c("Gustavo", "Moro", "Zeta")

nombres[__] <- "___"

nombres
```

```{r soda-nombres2-hint}
# Oscar Moro fue un baterista argentino tremendo, pero no tocaba en Soda Stereo.
# Para reemplazar Moro por Charly ten√©s que poner dentro del corchete el n√∫mero del elemento que quer√©s modificar.
# Dentro de las comillas pon√© Charly.
```

```{r soda-nombres2-solution}
nombres <- c("Gustavo", "Moro", "Zeta")

nombres[2] <- "Charly"

nombres
```

Te dejo un link a una de [mis canciones favoritas](https://youtu.be/9sQBgDLCdmw) de Soda Stereo üé∏



## Dataframes

Los dataframes son objetos que contienen **filas** y **columnas**, como si fuera una hoja de c√°lculo por ejemplo. Se dice que este tipo de objetos suele tener 2 dimensiones, una que corresponde a las filas, y otra que corresponde a las columnas.

Cuando cargamos en R un archivo de Excel o nos conectamos a una tabla de una base de datos por ejemplo, vamos a ver en la pesta√±a *Enviroment* de RStudio el nombre del dataframe dentro de la categor√≠a *"Data".* Tambi√©n podremos ver la cantidad de *observaciones* (filas) que tiene ese dataframe, y la cantidad de *variables* (columnas).

![](images/environment-data.png)

Cuando nos conectamos a un archivo que contenga filas y columnas, ya se carga el objeto en la memoria de R como un dataframe. Tambi√©n podemos crear dataframes en base a vectores que contengan la misma cantidad de elementos.

### Crear un dataframe en base a vectores

Complet√° los vectores para luego crear un dataframe con la funci√≥n `data.frame()` .

```{r df-soda, exercise = TRUE, exercise.lines = 12}
# Vectores con datos de los integrantes de Soda Stereo.
nombres <- c("_____", "Charly", "Zeta")
instrumentos <- c("Guitarra", "Bater√≠a", "____")
nacimiento <- c(1959, 1963, 1958)

# Creamos el dataframe usando los nombres de los vectores
soda.stereo <- data.frame(nombres, ______, _______)

soda.stereo

```

```{r df-soda-hint}
# Complet√° los datos que faltan en los espac√≠os vac√≠os de los vectores.
# Pon√© los nombres de los vectores adentro de la funci√≥n data.frame
# Cuidado con may√∫sculas y min√∫sculas, R es case sensitive
```

```{r df-soda-solution}
# Vectores con datos de los integrantes de Soda Stereo.
nombres <- c("Gustavo", "Charly", "Zeta")
instrumentos <- c("Guitarra", "Bater√≠a", "Bajo")
nacimiento <- c(1959, 1963, 1958)

# Creamos el dataframe usando los nombres de los vectores
soda.stereo <- data.frame(nombres, instrumentos, nacimiento)

soda.stereo
```

### Modificar elementos de un dataframe

Para modificar un elemento puntual de un dataframe tenemos que *jugar a la Batalla Naval.* La l√≥gica para seleccionar elementos de un dataframe es la siguiente: `nombre_dataframe[fila, columna]`. Por ejemplo ac√° estamos seleccionando de la siguiente tabla el elemento de la fila 3, y de la columna 1 (el nombre del bajista de Soda Stereo).

```{r ejemplo}
# Vectores con datos de los integrantes de Soda Stereo.
nombres <- c("Gustavo", "Charly", "Zeta")
instrumentos <- c("Guitarra", "Bater√≠a", "Bajo")
nacimiento <- c(1959, 1963, 1958)

# Creamos el dataframe usando los nombres de los vectores
soda.stereo <- data.frame(nombres, instrumentos, nacimiento)

soda.stereo

# Seleccionar el elemento de la fila 3, y la columna 2
soda.stereo[3, 1]

```

En el siguiente ejercicio hay un error en la base de datos, y cargaron mal el instrumento que toca el bajista Zeta Bosio. Corre el c√≥digo para ver d√≥nde est√° el error, y luego modifica el elemento del dataframe para que contenga la informaci√≥n correcta.

Record√° que para modificar un elemento puntual de un dataframe la l√≥gica es `nombre_dataframe[fila, columna].`

```{r ej2, echo = FALSE}
soda.stereo <- data.frame(
  nombres = c("Gustavo", "Charly", "Zeta"),
  instrumentos = c("Guitarra", "Bater√≠a", "Viol√≠n"),
  nacimiento = c(1959, 1963, 1958)
)

```

```{r df-soda2, exercise = TRUE, exercise.lines = 10, exercise.setup="ej2" }
# Corre el c√≥digo
soda.stereo

# Modifica el elemento incorrecto: nombre_dataframe[fila, columna]


# Pon el nombre del dataframe para ver si los datos son correctos ahora.

```

```{r df-soda2-hint-1}
# Para modificar un elemento de un dataframe tienes que poner dentro de los corchetes primero el n√∫mero de la fila, y luego el n√∫mero de la columna.
# Luego, asigna el valor correcto en la columna de instrumentos.
# Para terminar el ejercicio pon√© el nombre del dataframe y analizar si los datos se modificaron correctamente
```

```{r df-soda2-hint-2}
# Para asignar un nuevo valor de un dataframe tienes que poner:
# nombre_dataframe[fila, columna] que quieras modificar
# Asignar con "la flechita" (<-) o el signo igual el instrumento correcto ("Bajo")
```

```{r df-soda2-solution}
# Modifica el elemento incorrecto: nombre_dataframe[fila, columna]
soda.stereo[3,2] <- "Bajo"

# Pon el nombre del dataframe para ver si los datos son correctos ahora.
soda.stereo
```

## Cargar datos en R

Si hasta este momento te estabas preguntando si para crear una tabla hab√≠a que escribirla manualmente, **la respuesta es no**. A veces hacemos tablas intermedias que nos ayudan en alg√∫n proceso intermedio, pero lo normal es que carguemos un archivo en R y lo procesemos ac√°.

La **principal ventaja** de procesar tablas y archivos en R es la **seguridad**. Uno carga un archivo de Excel, por ejemplo, en R y la fuente original de los datos no se modifica, a menos que expl√≠citamente le indiquemos a R que lo haga.

¬øCu√°ntas veces descargamos datos de un sistema a un Excel, empezamos a procesarlos, llegamos a un punto donde no podemos avanzar y la soluci√≥n es descargar de nuevo los datos y empezar de cero otra vez?

En R tambi√©n nos vamos a chocar con paredes, pero las modificaciones son progresivas. Adem√°s, el hecho de contar con un editor de script, permite que vayas corrigiendo lo que necesites, pruebes cosas diferentes, y cuando necesites empezar otra vez, s√≥lo hay que volver a cargar los datos nuevamente.

Adem√°s R, en comparaci√≥n con Excel, es **mucho m√°s r√°pido**. Y para los vol√∫menes de datos que manejamos en Recursos Humanos, incluso con decenas de miles de empleados, R es mucho m√°s robusto para manejar esa cantidad de datos.

![Si, es as√≠ de r√°pido](https://c.tenor.com/bkVMYpwLGsIAAAAC/big-bang-theory-im-back.gif)

### Cargando datos

S√≥lo para fines pr√°cticos, vamos a cargar un archivo csv desde internet. Un archivo csv es un archivo plano con filas y columnas, donde las columnas (o variables para hablar con propiedad) est√°n separadas t√≠picamente con comas (`,`) o punto y coma (`;`).

Para cargar un archivo hay que:

* Asignar un nombre al objeto.
* Indicar la ruta o direcci√≥n al archivo.
* El nombre y la extensi√≥n del archivo (recuerda que R es case sensitive as√≠ que a prestar atenci√≥n a may√∫sculas y min√∫sculas).
* Eventualmente hay que prestar atenci√≥n tambi√©n al separador de columnas.

Vamos a usar una funci√≥n que se llama `read.csv`. Si pon√©s el s√≠mbolo `?` antes de cualquier funci√≥n R va a mostrar la ayuda de dicha funci√≥n. Probemos eso.

```{r help, exercise=TRUE}
# Buscar la ayuda de la funci√≥n read.csv
?read.csv() 
```

La primera funci√≥n que aparece en la ayuda es `read.table()`, luego viene la funci√≥n que nos interesa, `read.csv()`. Los par√°metros de `read.csv` que m√°s nos interesan son:

* *file*: El nombre del archivo.
* *header*: Indica si la primera fila contiene al encabezado. Por default este valor es TRUE.
* *sep*: Cu√°l es el s√≠mbolo que separa las columnas.

Los tres puntos (`...`) que aparecen en el final indican que hay otros par√°metros que nos pueden ser √∫tiles que son propios de otras funciones tambi√©n. Uno de esos par√°metros que nos puede servir es el par√°metro `skip`, que nos sirve en los casos donde un archivo de Excel viene con un encabezado y los datos empiezan varias filas debajo.

El resto de los par√°metros de `read.csv()` hacen lo siguiente.
* *quote*: Indica los s√≠mbolos que se usan como comillas en columnas de texto.
* *decimal*: Cu√°l es el s√≠mbolo para separar decimales (por default dejen el punto, conf√≠en en m√≠).
* *fill*: Puede pasar que al final de una columna haya celdas vac√≠as pero la tabla contiene varias filas m√°s. R por default las rellena como campo nulo (`NA`) hasta la √∫ltima fila del archivo.
* *comment.char*: Indica cu√°l es el s√≠mbolo de los comentarios de una celda.

Carguemos nuestro primer archivo! Vamos a usar la **Encuesta KIWI de Sueldos de RH** del 2020.

```{r carga, exercise=TRUE}
# Cargar la encuesta de sueldos
kiwi <- read.csv("https://raw.githubusercontent.com/chechoid/humanosReales/main/Datos/encuesta_sueldos.csv")

# Prob√° escribir el nombre del objeto
# Ctrl + Enter
kiwi
```

Veamos algunas funciones para explorar el dataset.

```{r kiwi}
kiwi <- read.csv("https://raw.githubusercontent.com/chechoid/humanosReales/main/Datos/encuesta_sueldos.csv")

kiwi.chico <- kiwi[,c(1, 2, 4, 14, 15)]

```

Primero, veamos el tama√±o del data frame con la funci√≥n `dim()`.

```{r eda1, exercise=TRUE, exercise.setup="kiwi"}
dim(kiwi)
```
El primer valor representa a las *observaciones* (filas) y el segundo a las columnas.

Ahora, probemos la funci√≥n `str()`.
```{r eda2, exercise=TRUE, exercise.setup="kiwi"}
# Us√° la funci√≥n str() con la tabla kiwi
____(_____)
```

```{r eda2-hint}
# Us√° la funci√≥n str() con la tabla kiwi
str(kiwi)
```

Guau! Tenemos mucha m√°s informaci√≥n. ¬øQu√© informaci√≥n arroja?

Ahora vamos a probar una funci√≥n muy √∫til para explorar algunas caracter√≠sticas de las columnas y es la funci√≥n `summary()`, pero para eso vamos a usar menos columnas.

La l√≥gica en la selecci√≥n es la siguiente:
```{r sel-col, eval=FALSE}
kiwi[ , c(1, 2, 4, 14, 15)]
```

`kiwi` es el nombre de nuestro data frame. Abriendo los corchetes podemos elegir las filas y las columnas. La l√≥gica es la siguiente `nombre.dataframe[filas, columnas]`.

Dejando vac√≠o el espacio de las filas, le indicamos a R que queremos todas las filas. 

Y en el espacio de las columnas creamos un vector con la funci√≥n `c()` y adentro le indicamos el n√∫mero de la posici√≥n de la variable dentro de la tabla. En nuestro encuentro sincr√≥nico vamos a ver una forma m√°s pr√°ctica para hacer esto.

```{r eda3, exercise=TRUE, exercise.setup="kiwi", exercise.lines=9}
# Seleccionamos las columnas 1, 2, 4, 14 y 15
kiwi.chico <- kiwi[,c(1, 2, 4, 14, 15)]

# ¬øCu√°l es el tama√±o del nuevo data frame? Usa la funci√≥n dim()
___(_________)

# Us√° la funci√≥n summary() en kiwi.chico
summary(kiwi.chico)
```

```{r eda3-hint}
# Seleccionamos las columnas 1, 2, 4, 14, y 15
kiwi.chico <- kiwi[,c(1, 2, 4, 14, 15)]

# ¬øCu√°l es el tama√±o del nuevo data frame? Usa la funci√≥n dim
dim(kiwi.chico)

# Us√° la funci√≥n summary() en kiwi.chico
summary(kiwi.chico)
```


De las variables num√©ricas obtenemos la siguiente informaci√≥n:

* **Min**: El valor m√≠nimo
* **1st Qu**: Primer cuartil
* **Median**: La mediana
* **Mean**: El promedio
* **3rd Qu**: Tercer cuartil
* **Max**: El valor m√°ximo
* **NA's**: La cantidad de celdas vac√≠as (con datos nulos).

De las variables de texto, como son de tipo `character` (una variable nominal), solo podemos ver la cantidad de elementos que trae, y el tipo de variable. Es el momento para presentar un nuevo tipo de dato: `factor`.

## Factores

`factor` es un tipo de variable de texto que nos permite crear por ejemplo, variables ordinales. En los materiales cl√°sicos de ciencia de datos se los suele menospreciar, pero en el campo de los datos t√≠picos de RRHH son esenciales.

Vamos a modificar la columna `buscando_trabajo` a tipo factor, y luego, volver a correr la funci√≥n `summary()`.


```{r factor1, exercise = TRUE, exercise.setup = "kiwi"}
# Transformamos la variable buscando_trabajo
kiwi.chico$buscando_trabajo <- as.factor(kiwi.chico$buscando_trabajo)

# Corremos la funci√≥n summary() sobre kiwi.chico
summary(kiwi.chico)
```

Ahora podemos ver que en la columna `buscando_trabajo` los valores que toma la variable (*"No estoy buscando cambiar", "No, pero escucho ofertas", "S√≠, activamente"* y los campos nulos).

La sintaxis de lo que hicimos en el bloque de c√≥digo anterior es la siguiente:

* Con el signo `$` elegimos una columna del data frame. As√≠ que con `kiwi.chico$buscando_trabajo` lo que estamos haciendo es elegir esa columna espec√≠fica.
* Con la segunda parte del c√≥digo, `as.factor(kiwi.chico$buscando_trabajo)` estamos cambiando el tipo de variable `character` a `factor`.

Y ahora podemos graficar de manera muy simple esta columma.

```{r factor2, exercise = TRUE, exercise.setup="kiwi"}
# Transformamos la variable buscando_trabajo
kiwi.chico$buscando_trabajo <- as.factor(kiwi.chico$buscando_trabajo)

# Graficar la variable buscando_trabajo
plot(kiwi.chico$buscando_trabajo)
```

En nuestra primera sesi√≥n sincr√≥nica vamos a aprender a cargar archivos de Excel. Si no ten√©s ganas de esperar pod√©s [mirar este video](https://youtu.be/21Tjx4WbVPs).

## Check out

Bueno, llegamos al final de este tutorial. Record√° sumarte a [Slack](https://join.slack.com/t/r4hr/shared_invite/zt-ocriyx5e-nqXuwWeDyOKm2ICUJjhu6g) y a [Discord](https://discord.gg/3xhNH6kRad) (Discord es opcional).

Si hay algo que no entiendas pod√©s usar el canal **#auxilio** de Slack.

Pueden visitar el [mapa conceptual](https://miro.com/app/board/o9J_l0IFd1Y=/) para repasar c√≥mo se relacionan los contenidos.

En este tutorial vimos:

* Las ventanas (paneles) de RStudio: El editor, la consola, el ambiente y el panel de salida.
* Como crear proyectos en RStudio.
* Distintos tipos de objetos: valores, vectores, y data frames. Para complementar est√° [este video](https://youtu.be/ux5NrUeQUIo).
* Hicimos cuentas matem√°ticas con estos objetos.
* Vimos c√≥mo seleccionar y modificar elementos en vectores y data frames.
* Conocimos varios tipos de datos: `character`, `numerical`, `logical` y `factor`.

Por favor, contame qu√© te pareci√≥ este tutorial [en este formulario](https://forms.gle/shbaunKh1AtkKKeu7) a ver qu√© podemos mejorar.

Y para celebrar el final de esta primera sesi√≥n, terminamos con un tema ATR (A Todo Ritmo) para celebrar!

<iframe width="560" height="315" src="https://www.youtube.com/embed/uqqO9G7I47s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


